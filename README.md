# GigaAM Transcriber

Приложение для голосового ввода текста на основе модели GigaAM v3 от Сбера. Работает в системном трее, записывает речь и автоматически вставляет транскрипцию в место курсора.

## Возможности

- Запись речи по клику на иконку в трее или горячей клавише Ctrl+Alt+R
- Транскрипция с помощью GigaAM v3 (с поддержкой пунктуации)
- Автоматическая вставка текста в место курсора через xdotool
- Визуальная индикация состояния цветом иконки
- Автозапуск при входе в систему
- Работает на любой раскладке клавиатуры

## Требования

- Linux (тестировалось на Fedora с KDE Plasma)
- Python 3.8+
- X11
- Микрофон

## Установка

### Системные зависимости

Fedora/RHEL:
```bash
sudo dnf install python3-pip xdotool portaudio-devel
```

Ubuntu/Debian:
```bash
sudo apt install python3-pip xdotool portaudio19-dev
```

### Python зависимости

Рекомендуется использовать uv:

```bash
# Установка uv
curl -LsSf https://astral.sh/uv/install.sh | sh

# Установка зависимостей проекта
uv sync
```

Или через pip:

```bash
pip install -r requirements.txt
```

### Настройка автозапуска

Файл для автозапуска уже создан в `~/.config/autostart/gigaam-transcriber.desktop`

## Использование

### Запуск

```bash
uv run transcriber.py
```

Или через Python:
```bash
python transcriber.py
```

### Управление

- **Левый клик по иконке в трее** - начать/остановить запись
- **Ctrl+Alt+R** - горячая клавиша (работает на любой раскладке)
- **Правый клик по иконке** - открыть меню

### Цветовая индикация

- **Серый** - загрузка модели
- **Зелёный** - готов к записи
- **Красный** - идёт запись
- **Жёлтый** - обработка/транскрипция

### Как использовать

1. Откройте любое приложение и установите курсор там, куда нужно вставить текст
2. Кликните по иконке в трее или нажмите Ctrl+Alt+R
3. Говорите в микрофон
4. Кликните снова или нажмите Ctrl+Alt+R для остановки
5. Текст автоматически вставится в место курсора

## Технологии

- **GigaAM v3** - модель распознавания речи от Сбера с пунктуацией
- **PyQt6** - системный трей с поддержкой кликов в KDE
- **xdotool** - вставка текста в любое приложение
- **sounddevice** - запись аудио
- **pynput** - обработка горячих клавиш
- **pyperclip** - работа с буфером обмена

## Решение проблем

### Текст не вставляется

Убедитесь, что установлен xdotool:
```bash
which xdotool
```

Проверьте вывод в консоли - там подробная информация о процессе вставки.

### Не работает горячая клавиша

Проверьте, что Ctrl+Alt+R не занята другим приложением.

### Модель не загружается

Первый запуск может занять время - модель загружается из интернета. Проверьте подключение.

### Иконка не появляется в трее

Убедитесь, что системный трей включён в вашем окружении рабочего стола.

## Лицензия

MIT
